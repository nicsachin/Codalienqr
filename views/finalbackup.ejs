<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            background-color: #FAFAFA;
            font: 12pt "Tahoma";
        }

        * {
            box-sizing: border-box;
            -moz-box-sizing: border-box;
        }

        .page {
            width: 210mm;
            min-height: 297mm;
            /*padding: 20mm;*/
            /*margin: 10mm auto;*/
            margin: 10px;
            border: 1px #D3D3D3 solid;
            border-radius: 5px;
            background: white;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        }

        .first {
            font-size: 70%;
            white-space: nowrap;

        }

        .second {
            font-size: 60%;
            white-space: nowrap;

        }

        .third {
            font-size: 40%;
            white-space: nowrap;

        }

        @page {
            size: A4;
            margin: 0;
        }

        @media print {
            html, body {
                width: 210mm;
                height: 297mm;
            }

            .page {
                margin: auto;
                /*margin-top    :10px;*/
                /*margin-bottom: 100px;*/
                border: initial;
                border-radius: initial;
                width: initial;
                min-height: initial;
                box-shadow: initial;
                background: initial;
                page-break-after: always;

            }

            .firstdiv {
                padding-top: 25px;
                border-bottom: 1px solid black;
            }

            .seconddiv {
                padding-top: 25px;
                border-bottom: 1px solid black;
            }

            .thirddiv {
                padding-top: 25px;

                border-bottom: 1px solid black;
            }

            .heading {
                margin: 0;
                padding: 0;
            }
        }
    </style>
</head>
<body id="main">
<script>
    //alert('Last printed  on '+localStorage.getItem('last'))
</script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">

<u><h5 class="text-center text-capitalize heading"> CODALIEN</h5></u>
<div class="container page">
    <div class="row">
        <div class="col-xs-6">

            <% let i = 0 %>
            <% qrData.forEach((data) => { %>
                <div style="display: flex ;height:275px;" class="firstdiv">
                    <div style="float: left;width:60%">
                        <img src="<%= data %>" style="width: 90%;"/>

                    </div>

                    <div style="float: left;width: 40%">


                        <img src="logo.jpg" width="60%"><br>


                        <p class="first">
                            CODE:<%= "CA-" + name[i].name.substring(0, 2) + name[i].name.substr(-2) + name[i]._id.substr(-6); %>
                            <br>
                            Name:<%= name[i].name %><br>
                            DOP:<%= new Date(name[i].dateOfPurchase).toDateString() %><br>
                            ID:<%= name[i]._id %><br>
                            S/N:<%= name[i].serialNo %><br>
                            <a href="codalien.com"></a></p>
                    </div>

                </div>

            <% i++}) %>

        </div>

        <div class=" col-xs-4">

            <% i = 0 %>
            <% qrData.forEach((data) => { %>
                <div style="display: flex;height: 275px;" class="seconddiv">
                    <div style="float: left;width:60%">
                        <img src="<%= data %>" style="width: 90%;"/>

                    </div>

                    <div style="float: left;width: 40%">


                        <img src="logo.jpg" width="60%"><br>


                        <p class="second">
                            CODE:<%= "CA-" + name[i].name.substring(0, 2) + name[i].name.substr(-2) + name[i]._id.substr(-6); %>
                            <br>
                            Name:<%= name[i].name %><br>
                            DOP:<%= new Date(name[i].dateOfPurchase).toDateString() %><br>
                            ID:<%= name[i]._id %><br>
                            S/N:<%= name[i].serialNo %><br>
                            <a href="codalien.com"></a></p>
                    </div>

                </div>

            <% i++}) %>

        </div>
        <div class=" col-xs-2">

            <% i = 0 %>
            <% qrData.forEach((data) => { %>

                <div style="display: flex;height: 275px;" class="thirddiv">
                    <div style="float: left;width:60%;">
                        <img src="<%= data %>" style="width: 90%;"/>

                    </div>

                    <div style="float: left;width: 40%">


                        <img src="logo.jpg" width="100%"><br>


                        <p class="third">
                            CODE:<%= "CA-" + name[i].name.substring(0, 2) + name[i].name.substr(-2) + name[i]._id.substr(-6); %>
                            <br>
                            Name:<%= name[i].name %><br>
                            DOP:<%= new Date(name[i].dateOfPurchase).toDateString() %><br>
                            ID:<%= name[i]._id %><br>
                            S/N:<%= name[i].serialNo %><br>
                            <a href="codalien.com"></a></p>
                    </div>

                </div>
                <%if(i%4==0)%>
            <% i++}) %>

        </div></div></div>

<script type="text/javascript">
    function greeting(e) {
        e.preventDefault();

        if (e.key === "p") {


            localStorage.setItem('last', "Date : " + new Date().toDateString() + " Time : " + new Date().toLocaleString('en-US', {
                hour: 'numeric',
                minute: 'numeric',
                hour12: true
            }));


            window.print()

        }

    }

    document.addEventListener('keydown', greeting);
</script>
</body>


