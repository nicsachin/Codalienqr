<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            background-color: #FAFAFA;
            font: 12pt "Tahoma";
        }

        * {
            box-sizing: border-box;
            -moz-box-sizing: border-box;
        }
        p.first
        {
            margin: -40px 0px 10px;
        }

        .page {
            width: 210mm;
            min-height: 297mm;
            /*padding: 20mm;*/
            /*margin: 10mm auto;*/
            margin: 10px;
            border: 1px #D3D3D3 solid;
            border-radius: 5px;
            background: white;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        }

        .first {
            font-size: 98%;
            white-space: nowrap;

        }

        .second {
            font-size: 60%;
            white-space: nowrap;

        }

        .third {
            font-size: 30%;
            white-space: nowrap;

        }

        .logo {
            width: 30%;
        }
        .firstdiv {
            border: 1px solid black;
            overflow: hidden;
            position: relative;
            border-radius: 14px;
            width:85%;
            /* padding-bottom: 0; */
            /* margin: auto; */
            margin-top: 7px;
            margin-right: 30px;
            /* margin-left: 10px; */
            /* border-bottom: 1px solid black; */
            padding: 0;
        }


        .shape_card {
            background: #000;
            width: 20px;
            height: 60px;
            right: 0;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
        }

        .seconddiv {
            border: 1px solid black;
            overflow: hidden;
            position: relative;
            border-radius: 20px;
            /*padding : auto;*/
            /*padding-bottom: 0;*/
            /*margin: auto;*/
            margin-top: 10px;
            /*margin-left: 10px;*/
            /*border-bottom: 1px solid black;*/
        }

        .thirdddiv {
            border: 1px solid black;
            overflow: hidden;
            position: relative;
            border-radius: 20px;
            /*padding : auto;*/
            /*padding-bottom: 0;*/
            /*margin: auto;*/
            margin-top: 10px;
            /*margin-left: 10px;*/
            /*border-bottom: 1px solid black;*/
        }

        .heading {
            margin: 0;
            padding: 0;
        }

        @page {
            size: A4;
            margin: 0;
        }

        @media print {
            html, body {
                width: 210mm;
                height: 297mm;
            }
            p.first
            {
                margin: -40px 0px 10px;
            }

            .page {
                margin: auto;
                /*margin-top    :10px;*/
                /*margin-bottom: 100px;*/
                /*border: initial;*/
                /*border-radius: initial;*/
                width: initial;
                min-height: initial;
                box-shadow: initial;
                background: initial;
                page-break-after: always;

            }
            .firstdiv {
                border: 1px solid black;
                overflow: hidden;
                position: relative;
                border-radius: 8px;
                /* padding-bottom: 0; */
                /* margin: auto; */
                margin-top: 7px;
                margin-right: 10px;
                /* margin-left: 10px; */
                /* border-bottom: 1px solid black; */
                padding: 0;
            }

            .shape_card {
                background: #000;
                width: 10px;
                height: 30px;
                right: 0;
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
            }

            .seconddiv {
                border: 1px solid black;
                overflow: hidden;
                position: relative;
                border-radius: 20px;
                /*padding : auto;*/
                /*padding-bottom: 0;*/
                /*margin: auto;*/
                margin-top: 10px;
                /*margin-left: 10px;*/
                /*border-bottom: 1px solid black;*/
            }

            .thirddiv {
                border: 1px solid black;
                overflow: hidden;
                position: relative;
                border-radius: 20px;
                /*padding : auto;*/
                /*padding-bottom: 0;*/
                /*margin: auto;*/
                margin-top: 10px;
                /*margin-left: 10px;*/
                /*border-bottom: 1px solid black;*/
            }

            .heading {
                margin: 0;
                padding: 0;
            }

            .logo {
                width: 70%;
            }

            .first {
                font-size: 120%;
                white-space: nowrap;

            }

            .second {
                font-size: 60%;
                white-space: nowrap;

            }

            .third {
                font-size: 30%;
                white-space: nowrap;

            }
        }
    </style>
</head>
<body id="main">
<script>
    //alert('Last printed  on '+localStorage.getItem('last'))
</script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">

<u><h5 class="text-center text-capitalize heading"> CODALIEN</h5></u>
<div class="container page">
    <div class="row">
        <div class="col-xs-6">

            <% let i = 0 %>
            <% qrData.forEach((data) => { %>
                <div style="display: flex" class="firstdiv">
                    <div style="flex: 0 0 auto;">
                        <img src="<%= data %>" style="width: 100%;"/>

                    </div>

                    <div>

                        <div style="display: flex; flex:1; align-items: center;">
                         <span style="flex:0 0 auto; margin: 0;">
                             <b style="font-size: 16px;margin: 0px">  CODE:<%= "CA-" + name[i].name.substring(0, 2) + name[i].name.substr(-2) + name[i]._id.substr(-6); %></b>

                         </span>
                            <span style="margin: 0;">
                                <img src="logo.jpg" class="logo" style="width:100px">


                         </span>

                        </div>

                        <div>
                            <p class="first">
                                <br><b>
                                    Name : </b><%= name[i].name %><br>
                                <b>DOP: </b><%= new Date(name[i].dateOfPurchase).toDateString() %><br>
                                <b>ID       : </b><%= name[i]._id %><br>
                                <b>S/N      : </b><%= name[i].serialNo %><br>
                                <b>Codalien.com | Hardware</b></p>
                        </div>
                    </div>
                    <div class="shape_card"></div>
                </div>

            <% i++}) %>

        </div>

        <div class=" col-xs-4">


            <%  i = 0 %>
            <% qrData.forEach((data) => { %>
                <div style="display: flex" class="seconddiv">
                    <div style="flex: 0 0 45%;">
                        <img src="<%= data %>" style="max-width: 100%;"/>

                    </div>

                    <div>

                        <div style="display: flex; flex:1; align-items: center;">
                         <span style="flex:0 0 auto; margin: 0;">
                             <b style="font-size: 8px; margin: 0;">  CODE:<%= "CA-" + name[i].name.substring(0, 2) + name[i].name.substr(-2) + name[i]._id.substr(-6); %></b>

                         </span>
                            <span style="margin: 0;">
                         <img src="logo.jpg" class="logo"><br>
                         </span>

                        </div>

                        <div>
                            <p class="second">
                                <br><b>
                                    Name:</b><%= name[i].name %><br>
                                <b>DOP:</b><%= new Date(name[i].dateOfPurchase).toDateString() %><br>
                                <b>ID:</b><%= name[i]._id %><br>
                                <b>S/N:</b><%= name[i].serialNo %><br>
                                <b>Codalien.com | Hardware</b></p>
                        </div>
                    </div>
                    <div class="shape_card"></div>
                </div>

            <% i++}) %>


        </div>
        <div class=" col-xs-2">


            <%  i = 0 %>
            <% qrData.forEach((data) => { %>
                <div style="display: flex" class="thirdddiv">
                    <div style="flex: 0 0 45%;">
                        <img src="<%= data %>" style="max-width: 100%;"/>

                    </div>

                    <div>

                        <div style="display: flex; flex:1; align-items: center;">
                         <span style="flex:0 0 auto; margin: 0;">
                             <b style="font-size: 20%; margin: 0;">  CODE:<%= "CA-" + name[i].name.substring(0, 2) + name[i].name.substr(-2) + name[i]._id.substr(-6); %></b>

                         </span>
                            <span style="margin: 0;">
                         <img src="logo.jpg" style="width:40%"><br>
                         </span>

                        </div>

                        <div>
                            <p class="third">
                                <br><b>
                                    Name:</b><%= name[i].name %><br>
                                <b>DOP:</b><%= new Date(name[i].dateOfPurchase).toDateString() %><br>
                                <b>ID:</b><%= name[i]._id %><br>
                                <b>S/N:</b><%= name[i].serialNo %><br>
                                <a href="codalien.com"></a></p>
                        </div>
                    </div>
                    <div class="shape_card"></div>
                </div>

            <% i++}) %>


        </div>
    </div>
</div>

<script type="text/javascript">
    function greeting(e) {
        e.preventDefault();

        if (e.key === "p") {


            localStorage.setItem('last', "Date : " + new Date().toDateString() + " Time : " + new Date().toLocaleString('en-US', {
                hour: 'numeric',
                minute: 'numeric',
                hour12: true
            }));


            window.print()

        }

    }

    document.addEventListener('keydown', greeting);
</script>
</body>


